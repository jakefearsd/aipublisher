# AI Publisher Configuration
# ==========================

# LLM Provider Selection
# ----------------------
# Choose between "anthropic" or "ollama"
#llm.provider=anthropic
llm.provider=ollama

# Anthropic API Configuration
# ---------------------------
# Set your API key via environment variable ANTHROPIC_API_KEY
anthropic.api.key=${ANTHROPIC_API_KEY:}
anthropic.model=claude-sonnet-4-20250514
anthropic.max-tokens=4096

# Ollama Configuration
# --------------------
# Base URL for Ollama server (include port if not 80/443)
ollama.base-url=http://inference.jakefear.com:11434
ollama.model=qwen2.5:14b
ollama.num-predict=4096
ollama.timeout=PT5M

# Temperature settings per agent (0.0 = deterministic, 1.0 = creative)
# Used by both Anthropic and Ollama
llm.temperature.research=0.3
llm.temperature.writer=0.7
llm.temperature.factchecker=0.3
llm.temperature.editor=0.5
llm.temperature.critic=0.3

# Pipeline Configuration
# ----------------------
pipeline.max-revision-cycles=3
pipeline.phase-timeout=PT5M

# Skip phases (for faster iteration)
pipeline.skip-fact-check=false
pipeline.skip-critique=false

# Approval checkpoints (human review gates)
pipeline.approval.after-research=false
pipeline.approval.after-draft=false
pipeline.approval.after-factcheck=false
pipeline.approval.before-publish=true

# Output Configuration
# --------------------
output.directory=./output
output.file-extension=.txt

# Quality Thresholds
# ------------------
quality.min-factcheck-confidence=MEDIUM
quality.min-editor-score=0.8
# Set to false to accept APPROVE even when no claims were verified
quality.require-verified-claims=true

# Spring Boot Settings
# --------------------
spring.main.banner-mode=off
# Lazy initialization for fast startup and to support --help without API key
spring.main.lazy-initialization=true
logging.level.root=WARN
logging.level.com.jakefear.aipublisher=WARN
logging.level.dev.langchain4j=WARN

# Enable configuration properties binding
spring.config.import=optional:file:.env[.properties]

# Web Search Configuration
# ------------------------
search.enabled=true
search.max-results=5
